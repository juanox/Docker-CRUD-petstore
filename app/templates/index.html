{% extends "base.html" %}
{% block title %} CRUD operations for PetStore's Order{% endblock title%}

{% block content %}

    <div class="container">
        <h2 style="text-align: center;">Orders</h2>
        <div class="rows2">
            <div class="col-md-12">
                <table class="table table-bordered">
                   <thead>
                     <tr>
                       <th>Date/Time</th>
                       <th>ID Order</th>
                       <th>ID Customer</th>
                       <th>ID Pet</th>
                       <th>Price</th>
                       <th>Taxes</th>
                       <th>Total</th>
                       <th>Options</th>
                     </tr>
                   </thead>
                   <tbody>
                       {% for row in rows2 %}
                       <tr>
                           <td>{{row.6}}</td>
                           <td>{{row.0}}</td>
                           <td>{{row.1}}</td>
                           <td>{{row.2}}</td>
                           <td>${{row.3}}</td>
                           <td>${{row.4}}</td>
                           <td>${{row.5}}</td>
                           <td>
                               <a href="!#" class="btn btn-warning" data-toggle="modal" data-target="#modalEdit{{row.0}}">Modify</a>
                               <a href="/delete/{{row.0}}" class="btn btn-danger" onclick="return confirm('Do you want to delete the order?')">Delete</a>
                           </td>
                       </tr>
                       <div id="modalEdit{{row.0}}" class="modal fade" role="dialog">
                         <div class="modal-dialog">
                           <div class="modal-content">
                             <div class="modal-header">
                               <button type="button" class="close" data-dismiss="modal">&times;</button>
                               <h4 class="modal-title">Modify Order</h4>
                             </div>
                             <div class="modal-body">
                               <form action="{{url_for('modify')}}" method="POST">
                                   <div class="form-group">
                                       <label for="idCustomer"> ID Customer: </label>
                                       <input type="hidden" name="id" value={{row.0}}>
                                       <input type="text" class="form-control" name="idCustomer" value={{row.1}}>
                                   </div>
                                   <div class="form-group">
                                       <label for="idPet"> ID Pet: </label>
                                       <input type="hidden" name="id" value={{row.0}}>
                                       <input type="text" class="form-control" name="idPet" value={{row.2}}>
                                   </div>
                                   <div class="form-group">
                                       <label for="price"> Price: </label>
                                       <input type="hidden" name="id" value={{row.0}}>
                                       <input type="text" class="form-control" name="price" value={{row.3}}>
                                   </div>
                                   <div class="form-group">
                                       <button type="submit"class="btn btn-warning">Update</button>
                                   </div>
                               </form>
                             </div>
                             <div class="modal-footer">
                               <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                             </div>
                           </div>
                         </div>
                     </div>
                       {% endfor %}
                   </tbody>
                 </table>
                 <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Add Order</button>
            </div>
        </div>
    </div>
    <div id="myModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Order</h4>
          </div>
          <div class="modal-body">
            <form action="{{url_for('add')}}" method="POST">
                <div class="form-group">
                    <label for="idCustomer"> ID Customer: </label>
                    <input type="text" class="form-control" name="idCustomer">
                </div>
                <div class="form-group">
                    <label for="idPet"> ID Pet: </label>
                    <input type="text" class="form-control" name="idPet">
                </div>
                <div class="form-group">
                    <label for="price"> Price: </label>
                    <input type="text" class="form-control" name="price">
                </div>
                <div class="form-group">
                    <button type="submit"class="btn btn-primary">Add Order</button>
                </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
  </div>
  <hr style="height:2px;border-width:0;color:gray;background-color:gray">
  <div class="container">
      <h2>Pets</h2>
      <div class="rows3">
          <div class="col-md-12">
              <table class="table table-condensed">
                 <thead>
                   <tr>
                     <th>ID Pet</th>
                     <th>Specie</th>
                     <th>Color</th>
                     <th>Age(months)</th>
                     <th>Price</th>
                   </tr>
                 </thead>
                 <tbody>
                     {% for row in rows3 %}
                     <tr>
                         <td>{{row.0}}</td>
                         <td>{{row.1}}</td>
                         <td>{{row.2}}</td>
                         <td>{{row.3}}</td>
                         <td>${{row.4}}</td>
                     </tr>
                     {% endfor %}
                 </tbody>
               </table>
          </div>
      </div>
  </div>
  <hr style="height:2px;border-width:0;color:gray;background-color:gray">
  <div class="container">
      <h2>Customers</h2>
      <div class="rows">
          <div class="col-md-12">
              <table class="table table-condensed">
                 <thead>
                   <tr>
                     <th>ID Customer</th>
                     <th>Name Customer</th>
                     <th>Email Contact</th>
                     <th>Phone Contact</th>
                   </tr>
                 </thead>
                 <tbody>
                     {% for row in rows %}
                     <tr>
                         <td>{{row.0}}</td>
                         <td>{{row.1}}</td>
                         <td>{{row.2}}</td>
                         <td>{{row.3}}</td>
                     </tr>
                     {% endfor %}
                 </tbody>
               </table>
          </div>
      </div>
  </div>
{% endblock content%}
